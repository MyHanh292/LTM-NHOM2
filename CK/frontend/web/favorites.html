<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>YÃªu thÃ­ch | CloudVault</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/documents.css">
</head>
<body>
    <header class="header">
    <div class="logo">
        <img src="assets/Logo.png" alt="CloudVault Logo">
    </div>
    <div class="title">CloudVault</div>
    <div class="user-actions">
        <button id="loginBtn" onclick="window.location.href='login.html'">ÄÄƒng nháº­p</button>
        <button id="registerBtn" onclick="window.location.href='register.html'">ÄÄƒng kÃ½</button>
        <span id="userName" class="hidden"></span>
        <button id="logoutBtn" class="hidden">ÄÄƒng xuáº¥t</button>
    </div>
</header>

    <nav class="nav-bar">
    <ul>
        <li><a href="index.html">ğŸ“Š Dashboard</a></li>
        <li><a href="documents.html">ğŸ“‚ TÃ i liá»‡u</a></li> 
        <li><a href="recent.html">â±ï¸ Gáº§n Ä‘Ã¢y</a></li>
        <li><a href="favorites.html" class="active">â¤ï¸ YÃªu thÃ­ch</a></li>
        <li><a href="trash.html">ğŸ—‘ï¸ RÃ¡c</a></li>
        <li><a href="settings.html">âš™ï¸ Cáº¥u hÃ¬nh</a></li>
    </ul>
    <a href="upload.html" class="btn-new">ğŸ“¤ Táº£i lÃªn</a>
</nav>

    <main class="content">
    <section class="my-files-section">
      <h2 style="color: #7a6fa3; font-size: 24px; font-weight: 700; margin-bottom: 10px;">â¤ï¸ TÃ i liá»‡u yÃªu thÃ­ch</h2>
      <p style="color: #8a7fa3; margin-bottom: 25px;">CÃ¡c tÃ i liá»‡u báº¡n Ä‘Ã£ Ä‘Ã¡nh dáº¥u</p>
      
        <div class="doc-grid" id="favorites-container">
        <p>â³ Äang táº£i danh sÃ¡ch yÃªu thÃ­ch...</p>
    </div>
    </section>

  </main>

    <footer class="footer">
    <p>CloudVault Â© 2026 | Ná»n táº£ng lÆ°u giá»¯ & quáº£n lÃ½ tÃ i liá»‡u an toÃ n</p>
  </footer>

    <script src="js/api.js"></script>
  <script src="js/main.js"></script>
  <script src="js/documents.js"></script>

<script> 
        const container = document.getElementById("favorites-container");
        const token = localStorage.getItem("token");

        if (!token) {
            container.innerHTML = '<p>ğŸ“Œ <a href="login.html">ÄÄƒng nháº­p</a> Ä‘á»ƒ xem danh sÃ¡ch yÃªu thÃ­ch.</p>'; 
        } else {  
            getFavoriteDocuments(token)
                .then(data => {
                    if (data.documents && data.documents.length > 0) {
                        container.innerHTML = "";
                        renderFiles(data.documents, token);
                    } else {
                        container.innerHTML = "<p>ğŸ’” Báº¡n chÆ°a yÃªu thÃ­ch tÃ i liá»‡u nÃ o.</p>";
                    }
                })
                .catch(error => {
                    console.error("Lá»—i táº£i yÃªu thÃ­ch:", error);
                    container.innerHTML = "<p>âŒ KhÃ´ng thá»ƒ táº£i danh sÃ¡ch yÃªu thÃ­ch. Vui lÃ²ng thá»­ láº¡i.</p>";
                });
        
        } 
  </script>

</body>
</html>