<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Bá»™ nhá»› | LÆ°u Giá»¯ TÃ i Liá»‡u</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
    <div class="logo">
        <img src="assets/Logo.png" alt="Logo">
    </div>
    <div class="title">
        <span>LÆ°u Giá»¯ TÃ i Liá»‡u</span>
    </div>
    <div class="user-actions">
        <button id="loginBtn" onclick="window.location.href='login.html'">ÄÄƒng nháº­p</button>
        <button id="registerBtn" onclick="window.location.href='register.html'">ÄÄƒng kÃ½</button>
        <span id="userName" class="hidden"></span>
        <button id="logoutBtn" class="hidden">ÄÄƒng xuáº¥t</button>
    </div>
</header>

    <nav class="nav-bar">
    <a href="upload.html" class="btn-new">+ UPLOAD</a>
    <ul>
        <li><a href="index.html">ğŸ  Trang chá»§</a></li>
        <li><a href="documents.html">ğŸ“ Kho lÆ°u trá»¯ cá»§a tÃ´i</a></li> 
        <li><a href="recent.html">ğŸ•“ Ná»™i dung gáº§n Ä‘Ã¢y</a></li>
        <li><a href="trash.html">ğŸ—‘ï¸ ThÃ¹ng rÃ¡c</a></li>
        <li><a href="favorites.html" class="active">â­ Bá»™ nhá»›</a></li>
        <li><a href="settings.html">âš™ï¸ CÃ i Ä‘áº·t</a></li>
    </ul>
</nav>

    <main class="content">
    <h2>â­ Bá»™ nhá»› cá»§a tÃ´i</h2>
    
        <div class="doc-grid" id="favorites-container">
        <p>Äang táº£i danh sÃ¡ch yÃªu thÃ­ch...</p>
    </div>

  </main>

    <footer class="footer">
    <p>Kho lÆ°u giá»¯ cá»§a tÃ´i Â© 2026</p>
  </footer>

    <script src="js/api.js"></script>
  <script src="js/main.js"></script>

<script> 
        const container = document.getElementById("favorites-container");

        if (!isLoggedIn()) {
            container.innerHTML = '<p><a href="login.html">ÄÄƒng nháº­p</a> Ä‘á»ƒ xem bá»™ nhá»›.</p>'; 
        } else {  
            getFavoriteDocuments()
                .then(data => {
                    if (data.documents && data.documents.length > 0) {
                        container.innerHTML = "";  
                        
                        data.documents.forEach(doc => {
                            const docCard = `
                                <div class="doc-card" onclick="viewDocument(this)" data-id="${doc.id}">
                                    <h3>${doc.filename}</h3>
                                    <p>NgÆ°á»i Ä‘Äƒng: ${doc.owner_name || 'KhÃ´ng rÃµ'}</p>
                                    <p>${doc.description || '<i>ChÆ°a cÃ³ mÃ´ táº£</i>'}</p>
                            </div>
                        `;
                            container.innerHTML += docCard;
                        });
                    } else {
                        container.innerHTML = "<p>Báº¡n chÆ°a yÃªu thÃ­ch tÃ i liá»‡u nÃ o.</p>";
                    }
                })
                .catch(error => {
                    console.error("Lá»—i táº£i favorites.html:", error);
                    container.innerHTML = "<p>KhÃ´ng thá»ƒ táº£i danh sÃ¡ch yÃªu thÃ­ch.</p>";
                });
        
        } 
  </script>

</body>
</html>